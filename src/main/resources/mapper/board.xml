<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.ssafy.enjoytrip.board.model.mapper.BoardMapper">
    <resultMap id="board" type="BoardDto">
        <result column="article_no" property="articleNo" />
        <result column="title" property="title" />
        <result column="content" property="content" />
        <result column="author" property="author" />
        <result column="write_date" property="writeDate" />
        <result column="update_date" property="updateDate" />
        <result column="type" property="type" />
        <result column="region_id" property="regionId" />
    </resultMap>

    <insert id="writeArticle" parameterType="BoardDto">
        insert into articles (title, content, author, type, region_id)
        values (#{title}, #{content}, #{author}, #{type}, #{regionId})
    </insert>

    <select id="selectAll" resultMap="board" resultType="BoardDto" parameterType="int">
        select title, content, author, write_date, update_date, type, region_id
        from articles
        where type = #{type}
    </select>

    <select id="selectByArticleNo" resultMap="board" resultType="BoardDto" parameterType="map">
        select article_no, title, content, author, write_date, update_date, type, region_id
        from articles
        where type = #{type} and article_no = #{articleNo}
    </select>

</mapper>